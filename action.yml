name: 'Libs Actions'
author: 'zhengmz'
description: 'Shell Library for other action'
outputs:
  functions:
    description: "Shell functions"
    value: ${{ steps.main.outputs.functions }}

runs:
  using: "composite"
  steps: 
    - id: main
      #run: source $GITHUB_ACTION_PATH/functions
      run: |
        source $GITHUB_ACTION_PATH/functions
        #o="$(cat $GITHUB_ACTION_PATH/functions | base64)"
        #o="$(cat $GITHUB_ACTION_PATH/functions | sed 's/\n/\\n/g' | base64)"
        o="$(cat $GITHUB_ACTION_PATH/functions | sed ":a;N;s/\n/\\n/g;ta" | base64)"
        info $o
        echo "::set-output name=functions::$o"
      shell: bash

branding:
  icon: 'book-open'
  color: 'blue'
